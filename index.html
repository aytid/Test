<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rudhvi Vasthra — Feedback</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{
      font-family:"Poppins",sans-serif;
      margin:0;background:#f6efd2;color:#111;
    }
    section{max-width:600px;margin:80px auto;padding:24px;background:#fff;
      border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.1);}
    h1{font-family:"Playfair Display",serif;text-align:center;margin-bottom:10px;}
    p{text-align:center;margin-top:0;margin-bottom:20px;}
    label{font-weight:600}
    input,textarea{
      width:100%;padding:10px;margin:6px 0 14px;
      border:1px solid #ccc;border-radius:6px;font-family:"Poppins",sans-serif;
    }
    button{
      background:#e62727;color:#fff;border:none;padding:10px 18px;
      border-radius:6px;cursor:pointer;font-weight:600;
    }
    button:hover{background:#c71f1f}
    #toast{
      position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(100px);
      background:#e62727;color:#fff;padding:12px 22px;border-radius:6px;
      opacity:0;transition:.4s;box-shadow:0 4px 12px rgba(0,0,0,.2)
    }
    #toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
  </style>
</head>
<body>
  <section>
    <h1>Customer Feedback</h1>
    <p>We value your thoughts. Share your feedback below!</p>

    <form id="reviewForm">
      <label>Name</label>
      <input type="text" id="reviewerName" placeholder="Enter your name">

      <label>Your Feedback</label>
      <textarea id="reviewText" rows="4" placeholder="Write your feedback..."></textarea>

      <button type="submit">Submit Feedback</button>
    </form>
  </section>

  <div id="toast"></div>

  <script>
    const toast=document.getElementById("toast");
    function showToast(msg){
      toast.textContent=msg;toast.classList.add("show");
      setTimeout(()=>toast.classList.remove("show"),2000);
    }

    window.onload=()=>{
      const saved=localStorage.getItem("userName");
      if(saved)document.getElementById("reviewerName").value=saved;
    };

    document.getElementById("reviewForm").addEventListener("submit",async e=>{
      e.preventDefault();
      const name=document.getElementById("reviewerName").value.trim();
      const feedback=document.getElementById("reviewText").value.trim();
      if(!name||!feedback)return showToast("Please fill all fields");

      const payload={name,feedback,date:new Date().toISOString()};

      try{
        const res=await fetch("https://your-vercel-app.vercel.app/api/feedback",{
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body:JSON.stringify(payload)
        });
        if(res.ok){
          showToast("Thank you for your feedback! ❤️");
          document.getElementById("reviewText").value="";
        }else showToast("Failed to send feedback");
      }catch(err){
        console.error(err);
        showToast("Network error");
      }
    });
  </script>
</body>
</html>
